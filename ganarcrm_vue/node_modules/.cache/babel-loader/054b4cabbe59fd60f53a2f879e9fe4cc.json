{"remainingRequest":"D:\\Projects\\GanarCRM\\ganarcrm_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects\\GanarCRM\\ganarcrm_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Projects\\GanarCRM\\ganarcrm_vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\Projects\\GanarCRM\\ganarcrm_vue\\src\\views\\dashboard\\AddMember.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Projects\\GanarCRM\\ganarcrm_vue\\src\\views\\dashboard\\AddMember.vue","mtime":1643571732857},{"path":"D:\\Projects\\GanarCRM\\ganarcrm_vue\\babel.config.js","mtime":1642871124264},{"path":"D:\\Projects\\GanarCRM\\ganarcrm_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642871812078},{"path":"D:\\Projects\\GanarCRM\\ganarcrm_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1642871819362},{"path":"D:\\Projects\\GanarCRM\\ganarcrm_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642871812078},{"path":"D:\\Projects\\GanarCRM\\ganarcrm_vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1642871820906}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxQcm9qZWN0c1xcR2FuYXJDUk1cXGdhbmFyY3JtX3Z1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICJidWxtYS10b2FzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkTWVtYmVyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwYXNzd29yZDE6ICIiLAogICAgICBwYXNzd29yZDI6ICIiLAogICAgICBlcnJvcnM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhLCBlbWFpbERhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgic2V0SXNMb2FkaW5nIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLnVzZXJuYW1lID09PSAiIikgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiVXNlcm5hbWUgaXMgbWlzc2luZyIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wYXNzd29yZDEgPT09ICIiIHx8IF90aGlzLnBhc3N3b3JkMiA9PT0gIiIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIlBhc3N3b3JkIG1pc3NpbmciKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucGFzc3dvcmQxICE9IF90aGlzLnBhc3N3b3JkMikgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiUGFzc3dvcmRzIGRvIG5vdCBtYXRjaCIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBfdGhpcy51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnBhc3N3b3JkMQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoIi9hcGkvdjEvdXNlcnMvIiwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiTWVtYmVyIHdhcyBhZGRlZCIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImlzLXN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIlNvbWV0aGluZyB3ZW50IHdyb25nLCBQbGVhc2UgdHJ5IGFnYWluIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZW1haWxEYXRhID0gewogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMudXNlcm5hbWUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiL2FwaS92MS90ZWFtcy9hZGRfbWVtYmVyLyIsIGVtYWlsRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdG9hc3QoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJNZW1iZXIgd2FzIGFkZGVkIiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiaXMtc3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IgogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIlRlYW0iCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjoiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCJTb21ldGhpbmcgd2VudCB3cm9uZywgUGxlYXNlIHRyeSBhZ2FpbiIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoInNldElzTG9hZGluZyIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\Projects\\GanarCRM\\ganarcrm_vue\\src\\views\\dashboard\\AddMember.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"columns\">\r\n      <div class=\"column is-12 is-multiline\">\r\n        <h1 class=\"title\">\r\n          <strong>Add Member</strong>\r\n        </h1>\r\n        <form @submit.prevent=\"submitForm\">\r\n          <div class=\"field\">\r\n            <label>Email</label>\r\n            <div class=\"control\">\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                class=\"input\"\r\n                v-model=\"username\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"field\">\r\n            <label>Password</label>\r\n            <div class=\"control\">\r\n              <input\r\n                type=\"password\"\r\n                name=\"password1\"\r\n                class=\"input\"\r\n                v-model=\"password1\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"field\">\r\n            <label>Repeat password</label>\r\n            <div class=\"control\">\r\n              <input\r\n                type=\"password\"\r\n                name=\"password2\"\r\n                class=\"input\"\r\n                v-model=\"password2\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"notification is-danger\" v-if=\"errors.length\">\r\n            <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\r\n          </div>\r\n\r\n          <div class=\"field\">\r\n            <div class=\"control\">\r\n              <button class=\"button is-success\">Sign Up</button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { toast } from \"bulma-toast\";\r\n\r\nexport default {\r\n  name: \"AddMember\",\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password1: \"\",\r\n      password2: \"\",\r\n      errors: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async submitForm() {\r\n      this.$store.commit(\"setIsLoading\", true);\r\n      this.errors = [];\r\n\r\n      if (this.username === \"\") {\r\n        this.errors.push(\"Username is missing\");\r\n      }\r\n\r\n      if (this.password1 === \"\" || this.password2 === \"\") {\r\n        this.errors.push(\"Password missing\");\r\n      }\r\n\r\n      if (this.password1 != this.password2) {\r\n        this.errors.push(\"Passwords do not match\");\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const formData = {\r\n          username: this.username,\r\n          password: this.password1,\r\n        };\r\n\r\n        axios\r\n          .post(\"/api/v1/users/\", formData)\r\n          .then((response) => {\r\n            toast({\r\n              message: \"Member was added\",\r\n              type: \"is-success\",\r\n              dismissible: true,\r\n              pauseOnHover: true,\r\n              duration: 2000,\r\n              position: \"bottom-right\",\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            if (error.response) {\r\n              for (const property in error.response.data) {\r\n                this.errors.push(\r\n                  `${property}:${error.response.data[property]}`\r\n                );\r\n              }\r\n            } else if (error.message) {\r\n              this.errors.push(\"Something went wrong, Please try again\");\r\n            }\r\n          });\r\n\r\n        const emailData = { email: this.username };\r\n\r\n        await axios\r\n          .post(\"/api/v1/teams/add_member/\", emailData)\r\n          .then((response) => {\r\n            toast({\r\n              message: \"Member was added\",\r\n              type: \"is-success\",\r\n              dismissible: true,\r\n              pauseOnHover: true,\r\n              duration: 2000,\r\n              position: \"bottom-right\",\r\n            });\r\n            this.$router.push({ name: \"Team\" });\r\n          })\r\n          .catch((error) => {\r\n            if (error.response) {\r\n              for (const property in error.response.data) {\r\n                this.errors.push(\r\n                  `${property}:${error.response.data[property]}`\r\n                );\r\n              }\r\n            } else if (error.message) {\r\n              this.errors.push(\"Something went wrong, Please try again\");\r\n            }\r\n          });\r\n      }\r\n      this.$store.commit(\"setIsLoading\", false);\r\n    },\r\n  },\r\n};\r\n</script>"],"sourceRoot":""}]}